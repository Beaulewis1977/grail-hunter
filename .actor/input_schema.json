{
  "title": "Grail Hunter - Phase 2: Grailed & eBay",
  "description": "Monitor Grailed and eBay for new sneaker listings and get real-time alerts.",
  "type": "object",
  "schemaVersion": 1,
  "properties": {
    "keywords": {
      "title": "Search Keywords",
      "type": "array",
      "description": "Sneaker models or keywords to search for (e.g., 'Air Jordan 1', 'Yeezy 350', 'Nike Dunk Low Panda'). You can specify multiple keywords.",
      "editor": "stringList",
      "prefill": ["Air Jordan 1", "Nike Dunk Low"],
      "minItems": 1,
      "maxItems": 20
    },
    "size": {
      "title": "Desired Size (US Men's)",
      "type": "string",
      "description": "Filter by US Men's shoe size (e.g., '10', '10.5', '11'). Leave empty to see all sizes.",
      "editor": "textfield",
      "pattern": "^([1-9]|1[0-5])(\\.5)?$",
      "example": "10.5"
    },
    "priceRange": {
      "title": "Price Range (USD)",
      "type": "object",
      "description": "Filter listings by price range in US dollars (max must be greater than or equal to min)",
      "editor": "json",
      "properties": {
        "min": {
          "type": "number",
          "title": "Minimum Price",
          "description": "Minimum price in USD (leave empty for no minimum)",
          "minimum": 0
        },
        "max": {
          "type": "number",
          "title": "Maximum Price",
          "description": "Maximum price in USD (leave empty for no maximum)",
          "minimum": 0
        }
      },
      "prefill": {
        "min": 50,
        "max": 500
      }
    },
    "condition": {
      "title": "Minimum Condition",
      "type": "string",
      "description": "Only show listings in this condition or better",
      "editor": "select",
      "enum": ["new_in_box", "used_like_new", "used_good", "used_fair", "used_poor", "unspecified"],
      "enumTitles": [
        "New in Box (DS/BNIB)",
        "Used - Like New (VNDS)",
        "Used - Good (NDS)",
        "Used - Fair",
        "Used - Poor",
        "Any Condition"
      ],
      "default": "used_good"
    },
    "platform": {
      "title": "Legacy Single Platform",
      "type": "string",
      "description": "Backward-compatible single-platform selector (defaults to Grailed). Use the Platforms list below for Phase 2 multi-platform runs.",
      "editor": "select",
      "enum": ["grailed"],
      "enumTitles": ["Grailed"],
      "default": "grailed"
    },
    "platforms": {
      "title": "Platforms",
      "type": "array",
      "description": "Select one or more platforms to search. Leave empty to fall back to the single 'Legacy Single Platform' field.",
      "editor": "select",
      "items": {
        "type": "string",
        "enum": ["grailed", "ebay"],
        "enumTitles": ["Grailed", "eBay"]
      },
      "uniqueItems": true
    },
    "maxResults": {
      "title": "Max Results to Scrape",
      "type": "number",
      "description": "Maximum number of listings to scrape from Grailed (1-500)",
      "default": 50,
      "minimum": 1,
      "maximum": 500
    },
    "notificationConfig": {
      "title": "Notification Settings",
      "type": "object",
      "description": "Configure how you receive alerts for new listings. Results are ALWAYS saved to Apify dataset.",
      "editor": "json",
      "properties": {
        "webhookUrl": {
          "type": "string",
          "title": "Webhook URL",
          "description": "POST notifications to this URL when new listings are found (e.g., for Zapier, Make.com, or custom endpoint)",
          "editor": "textfield"
        },
        "webhookSecret": {
          "type": "string",
          "title": "Webhook Secret (Optional)",
          "description": "Secret key for HMAC-SHA256 signature verification (sent in X-Grail-Hunter-Signature header)",
          "editor": "textfield"
        }
      }
    },
    "proxyConfig": {
      "title": "Proxy Configuration",
      "type": "object",
      "description": "Proxy settings (recommended: use Apify residential proxies for reliability)",
      "editor": "proxy",
      "default": {
        "useApifyProxy": true,
        "apifyProxyGroups": ["RESIDENTIAL"]
      }
    },
    "excludeAuctions": {
      "title": "Exclude Auction Listings",
      "type": "boolean",
      "description": "If enabled, filters eBay results to Buy It Now where possible and marks auctions distinctly.",
      "default": false
    }
  },
  "required": ["keywords"]
}
