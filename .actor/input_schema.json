{
  "title": "Grail Hunter - Phase 3: Multi-Platform with Advanced Intelligence",
  "description": "Monitor Grailed, eBay, and StockX for sneaker listings with deal scoring, price tracking, and real-time alerts.",
  "type": "object",
  "schemaVersion": 1,
  "properties": {
    "keywords": {
      "title": "Search Keywords",
      "type": "array",
      "description": "Sneaker models or keywords to search for (e.g., 'Air Jordan 1', 'Yeezy 350', 'Nike Dunk Low Panda'). You can specify multiple keywords.",
      "editor": "stringList",
      "prefill": ["Air Jordan 1", "Nike Dunk Low"],
      "minItems": 1,
      "maxItems": 20
    },
    "size": {
      "title": "Desired Size (US Men's)",
      "type": "string",
      "description": "Filter by US Men's shoe size (e.g., '10', '10.5', '11'). Leave empty to see all sizes.",
      "editor": "textfield",
      "pattern": "^([1-9]|1[0-5])(\\.5)?$",
      "example": "10.5"
    },
    "priceRange": {
      "title": "Price Range (USD)",
      "type": "object",
      "description": "Filter listings by price range in US dollars (max must be greater than or equal to min)",
      "editor": "json",
      "properties": {
        "min": {
          "type": "number",
          "title": "Minimum Price",
          "description": "Minimum price in USD (leave empty for no minimum)",
          "minimum": 0
        },
        "max": {
          "type": "number",
          "title": "Maximum Price",
          "description": "Maximum price in USD (leave empty for no maximum)",
          "minimum": 0
        }
      },
      "prefill": {
        "min": 50,
        "max": 500
      }
    },
    "condition": {
      "title": "Minimum Condition",
      "type": "string",
      "description": "Only show listings in this condition or better",
      "editor": "select",
      "enum": ["new_in_box", "used_like_new", "used_good", "used_fair", "used_poor", "unspecified"],
      "enumTitles": [
        "New in Box (DS/BNIB)",
        "Used - Like New (VNDS)",
        "Used - Good (NDS)",
        "Used - Fair",
        "Used - Poor",
        "Any Condition"
      ],
      "default": "used_good"
    },
    "platform": {
      "title": "Legacy Single Platform",
      "type": "string",
      "description": "Backward-compatible single-platform selector (defaults to Grailed). Use the Platforms list below for Phase 2 multi-platform runs.",
      "editor": "select",
      "enum": ["grailed"],
      "enumTitles": ["Grailed"],
      "default": "grailed"
    },
    "platforms": {
      "title": "Platforms",
      "type": "array",
      "description": "Select one or more platforms to search. Phase 4.0 added Depop and Poshmark as safer marketplace options. Leave empty to fall back to the single 'Legacy Single Platform' field.",
      "editor": "select",
      "items": {
        "type": "string",
        "enum": ["grailed", "ebay", "stockx", "depop", "poshmark"],
        "enumTitles": ["Grailed", "eBay", "StockX (⚠️  HIGH RISK)", "Depop", "Poshmark"]
      },
      "uniqueItems": true
    },
    "maxResults": {
      "title": "Max Results to Scrape",
      "type": "number",
      "description": "Maximum number of listings to scrape from Grailed (1-500)",
      "default": 50,
      "minimum": 1,
      "maximum": 500
    },
    "notificationConfig": {
      "title": "Notification Settings",
      "type": "object",
      "description": "Configure how you receive alerts for new listings. Results are ALWAYS saved to Apify dataset.",
      "editor": "json",
      "properties": {
        "webhookUrl": {
          "type": "string",
          "title": "Webhook URL",
          "description": "POST notifications to this URL when new listings are found (e.g., for Zapier, Make.com, or custom endpoint)",
          "editor": "textfield"
        },
        "webhookSecret": {
          "type": "string",
          "title": "Webhook Secret (Optional)",
          "description": "Secret key for HMAC-SHA256 signature verification (sent in X-Grail-Hunter-Signature header)",
          "editor": "textfield"
        }
      }
    },
    "proxyConfig": {
      "title": "Proxy Configuration",
      "type": "object",
      "description": "Proxy settings (recommended: use Apify residential proxies for reliability)",
      "editor": "proxy",
      "default": {
        "useApifyProxy": true,
        "apifyProxyGroups": ["RESIDENTIAL"]
      }
    },
    "excludeAuctions": {
      "title": "Exclude Auction Listings",
      "type": "boolean",
      "description": "If enabled, filters eBay results to Buy It Now where possible and marks auctions distinctly.",
      "default": false
    },
    "authenticatedOnly": {
      "title": "Authenticated Listings Only",
      "type": "boolean",
      "description": "Only show listings from authenticated platforms (StockX, GOAT) or with authenticity guarantees (eBay). Filters out peer-to-peer marketplaces without authentication.",
      "default": false
    },
    "requireOGAll": {
      "title": "Require Original Box & Accessories",
      "type": "boolean",
      "description": "Only show listings that include the original box and all accessories (OG All). Filters out listings with replacement boxes or no box.",
      "default": false
    },
    "minSellerRating": {
      "title": "Minimum Seller Rating",
      "type": "number",
      "description": "Minimum seller rating on a 0-5 scale (e.g., 4.5). Listings from sellers below this rating will be filtered out. Set to 0 to disable.",
      "default": 0,
      "minimum": 0,
      "maximum": 5
    },
    "minSellerReviewCount": {
      "title": "Minimum Seller Review Count",
      "type": "number",
      "description": "Minimum number of seller reviews/transactions. Filters out sellers with fewer reviews. Set to 0 to disable.",
      "default": 0,
      "minimum": 0,
      "maximum": 100000
    },
    "dealScoreThreshold": {
      "title": "Deal Score Threshold (%)",
      "type": "number",
      "description": "Minimum savings percentage to consider a listing as a deal (default: 10%). The Excellent Deal Threshold must always be greater than or equal to this value—runs fail validation if misconfigured.",
      "default": 10,
      "minimum": 0,
      "maximum": 100
    },
    "excellentDealThreshold": {
      "title": "Excellent Deal Threshold (%)",
      "type": "number",
      "description": "Savings percentage required for 'excellent' deal quality (default: 30%). Must be greater than or equal to the Deal Score Threshold or the actor input will be rejected.",
      "default": 30,
      "minimum": 0,
      "maximum": 100
    },
    "priceDropThreshold": {
      "title": "Price Drop Alert Threshold (%)",
      "type": "number",
      "description": "Minimum price drop percentage to trigger alerts (default: 10%)",
      "default": 10,
      "minimum": 0,
      "maximum": 100
    },
    "marketValueOverrides": {
      "title": "Market Value Overrides",
      "type": "object",
      "description": "Override market values for specific sneakers (JSON object with sneaker name or SKU as key, market value as value)",
      "editor": "json",
      "prefill": {}
    },
    "enableStockX": {
      "title": "Enable StockX Scraping (⚠️  HIGH RISK)",
      "type": "boolean",
      "description": "WARNING: StockX actively enforces ToS. Scraping may result in IP blocks or legal action. Use at your own risk.",
      "default": false
    }
  },
  "required": ["keywords"]
}
