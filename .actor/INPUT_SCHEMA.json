{
  "title": "Grail Hunter - Phase 1: Grailed MVP",
  "description": "Search Grailed for sneakers and get notified about new listings",
  "type": "object",
  "schemaVersion": 1,
  "properties": {
    "keywords": {
      "title": "Search Keywords",
      "type": "array",
      "description": "Sneaker models or keywords to search for (e.g., 'Air Jordan 1', 'Yeezy 350', 'Nike Dunk Low Panda'). You can specify multiple keywords.",
      "editor": "stringList",
      "prefill": ["Air Jordan 1", "Nike Dunk Low"],
      "minItems": 1,
      "maxItems": 20
    },
    "size": {
      "title": "Desired Size (US Men's)",
      "type": "string",
      "description": "Filter by US Men's shoe size (e.g., '10', '10.5', '11'). Leave empty to see all sizes.",
      "editor": "textfield",
      "pattern": "^([1-9]|1[0-5])(\\.5)?$",
      "example": "10.5"
    },
    "priceRange": {
      "title": "Price Range (USD)",
      "type": "object",
      "description": "Filter listings by price range in US dollars",
      "editor": "json",
      "properties": {
        "min": {
          "type": "number",
          "title": "Minimum Price",
          "description": "Minimum price in USD (leave empty for no minimum)",
          "minimum": 0
        },
        "max": {
          "type": "number",
          "title": "Maximum Price",
          "description": "Maximum price in USD (leave empty for no maximum)",
          "minimum": 0
        }
      },
      "prefill": {
        "min": 50,
        "max": 500
      }
    },
    "condition": {
      "title": "Minimum Condition",
      "type": "string",
      "description": "Only show listings in this condition or better",
      "editor": "select",
      "enum": [
        "new_in_box",
        "used_like_new",
        "used_good",
        "used_fair",
        "used_poor",
        "unspecified"
      ],
      "enumTitles": [
        "New in Box (DS/BNIB)",
        "Used - Like New (VNDS)",
        "Used - Good (NDS)",
        "Used - Fair",
        "Used - Poor",
        "Any Condition"
      ],
      "default": "used_good"
    },
    "platform": {
      "title": "Platform",
      "type": "string",
      "description": "⚠️ Phase 1 only supports Grailed. More platforms coming in future phases!",
      "editor": "select",
      "enum": ["grailed"],
      "enumTitles": ["Grailed (✅ Available)"],
      "default": "grailed"
    },
    "maxResults": {
      "title": "Max Results to Scrape",
      "type": "number",
      "description": "Maximum number of listings to scrape from Grailed (1-500)",
      "default": 50,
      "minimum": 1,
      "maximum": 500
    },
    "notificationConfig": {
      "title": "Notification Settings",
      "type": "object",
      "description": "Configure how you receive alerts for new listings. Results are ALWAYS saved to Apify dataset.",
      "editor": "json",
      "properties": {
        "webhookUrl": {
          "type": "string",
          "title": "Webhook URL",
          "description": "POST notifications to this URL when new listings are found (e.g., for Zapier, Make.com, or custom endpoint)",
          "editor": "textfield"
        },
        "webhookSecret": {
          "type": "string",
          "title": "Webhook Secret (Optional)",
          "description": "Secret key for HMAC-SHA256 signature verification (sent in X-Grail-Hunter-Signature header)",
          "editor": "textfield",
          "isSecret": true
        }
      }
    },
    "proxyConfig": {
      "title": "Proxy Configuration",
      "type": "object",
      "description": "Proxy settings (recommended: use Apify residential proxies for reliability)",
      "editor": "proxy",
      "default": {
        "useApifyProxy": true,
        "apifyProxyGroups": ["RESIDENTIAL"]
      }
    }
  },
  "required": ["keywords"]
}
